<div id="game-container">
    <h1>Game Session: {{ session_id }}</h1>
    <p><div id='status'>{{status}}</div><div id='time'>{{status}}</div></p>
    <p>Player 1: <span id="player1">{{ player1 }}</span></p>
    <p>Player 2: <span id="player2">{{ player2 }}</span></p>
    <div><div id="score1"></div> <div id="score2"></div></div>
    <canvas id="gameCanvas" width="1000" height="600"></canvas>
</div>



<script>
    init();
    // JavaScript to connect to WebSocket and update player list
    socket1 = new WebSocket(`wss://${window.location.host}/wss/game/bot/`);
    canvas = document.getElementById('gameCanvas');
    ctx = canvas.getContext('2d');


    socket1.onmessage = function(event) {
            const data = JSON.parse(event.data);
            document.getElementById('status').textContent = data.status;
            document.getElementById('player1').textContent = data.player1;
            document.getElementById('player2').textContent = data.player2;
            document.getElementById('time').textContent = data.time
            document.getElementById('score1').textContent = data.score1
            document.getElementById('score2').textContent = data.score2
            updateGameCanvas(data);
            {% comment %} handleStatus(data); {% endcomment %}
    };
    
    function updateGameCanvas(data) {
        animate(data.posx, data.posy, data.pos1, data.pos2);
    };

    document.addEventListener('keydown', handleKeyDown);
</script>
<style>
    #game-container {
        text-align: center;
        margin-top: 20px;
    }
    canvas {
        border: 1px solid black;
        background: #eee;
        display: block;
        margin: 0 auto;
    }
</style>    
